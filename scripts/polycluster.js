//(C)Copyright Berry Ratliff 2010-2011
function PolyCluster(){this._={A:{},C:{},U:{},V:{}};this.$={U:{},V:{},W:{},Z:{}};}
(
function(_,$)
{
var uv,ca=0,ff=0,ie=0,offset=268435456,radius=268435456/Math.PI,degree=180/Math.PI,pair=[],layer,pixel;var FF="http://www.w3.org/2000/svg";var IE="urn:schemas-microsoft-com:vml";var _0="fill",_1="stroke",_2="fill-opacity",_3="stroke-opacity",_4="fillColor",_5="strokeColor",_6="fillAlpha",_7="strokeAlpha";var $0="absolute",$1="relative",$4="style",$5="appendChild",$6="removeChild",$7="display";for(var i=0,j=0,k=0,l=0;k="0123456789ABCDEFGHIJKLOPQRSTUVWXYZabcdefghijklopqrstuvwxyz*+,-./".charAt(i);i++){j=("000000"+i.toString(2)).slice(-6);pair[j]=k;pair[k]=j;}if(typeof(GOverlay)!="undefined"){uv=1;_=_.prototype=new GOverlay;_.finalize=last;_.initialize=last;_.redraw=repair;}if(google)if(google.maps)if(google.maps.OverlayView){uv=0;_=_.prototype=new google.maps.OverlayView;_.draw=repair;_.idle=repair;_.redraw=repair;}if($=document.namespaces){if(!$.v)$.add("v",IE);ie=1;layer=0;pixel=10;}if($=document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Shape","1.1")){ff=1;layer=2;pixel=8;}if($=document.createElement("CANVAS")){if($.getContext){ca=1;layer=2;pixel=8;}}
function LToX(x){return Math.round(offset+radius*x/degree);}
function LToY(y){return Math.round(offset-radius*Math.log((1+Math.sin(y/degree))/(1-Math.sin(y/degree)))/2);}
function XToL(x){return degree*(Math.round(x)-offset)/radius;}
function YToL(y){return degree*(Math.PI/2-2*Math.atan(Math.exp((Math.round(y)-offset)/radius)));}
function pack(pack){var i,j,k,l,o,p,q,r,s,t,u,v,w,x,y,z;l=pack;s=0;t=0;x=[];y=[];for(i=0;l[i];i++){w=l[i].x;s=w-s;z=Math.abs(s).toString(2).replace(/0*1?/,"");x[i]=s?(("00000"+(z.length+1).toString(2)+(-(s>>31))).slice(-6)+z):"00000";s=w;}x[i]="11111";for(i=0;l[i];i++){w=l[i].y;t=w-t;z=Math.abs(t).toString(2).replace(/0*1?/,"");y[i]=t?(("00000"+(z.length+1).toString(2)+(-(t>>31))).slice(-6)+z):"00000";t=w;}y[i]="11111";s=x.join("");t=y.join("");x=[];y=[];for(i=0,j=0;s.charAt(j+5);i+=1,j+=6)x[i]=pair[s.slice(j,j+6)];for(i=0,j=0;t.charAt(j+5);i+=1,j+=6)y[i]=pair[t.slice(j,j+6)];return{x:x.join(""),y:y.join("")};}
function poly(poly){var i,j,k,l,o,p,q,r,s,t,u,v,w,x,y,z;l=poly;s=l.x;t=l.y;x=[];y=[];for(i=0;s.charAt(i);i++)x[i]=pair[s.charAt(i)];for(i=0;t.charAt(i);i++)y[i]=pair[t.charAt(i)];s=x.join("");t=y.join("");x=[];y=[];w=0;for(i=0,j=0;s.charAt(j+4);i++,j++){k=j+5;l=parseInt(s.slice(j,k),2);j=k-1+l;z=1<<l>>1;if(l>>1<<1){if(!s.charAt(j))break;z=z+parseInt(s.slice(k+1,j+1),2);}if(z){if(!s.charAt(k))break;z=[z-0,0-z][s.charAt(k)-0];}w=w+z;x[i]=w;}w=0;for(i=0,j=0;t.charAt(j+4);i++,j++){k=j+5;l=parseInt(t.slice(j,k),2);j=k-1+l;z=1<<l>>1;if(l>>1<<1){if(!t.charAt(j))break;z=z+parseInt(t.slice(k+1,j+1),2);}if(z){if(!t.charAt(k))break;z=[z-0,0-z][t.charAt(k)-0];}w=w+z;y[i]=w;}return{x:x,y:y};}
function adjust(_,$){if(_[0]<$[0])_[0]=$[0];if(_[0]>$[1])_[0]=$[1];if(_[1]<$[0])_[1]=$[0];if(_[1]>$[1])_[1]=$[1];}
function properties(_,$){_[$4].left=$[0];_[$4].top=$[1];_[$4].width=$[2];_[$4].height=$[3];}
function click(_,$){_=window.event?window.event.srcElement:_.target;if(_.file)if(_.call)_.call._.click(_.file,$);}
function cover(_,$){_=window.event?window.event.srcElement:_.target;if(_.file)if(_.call)_.call._.cover(_.file,$);}
function pick0(_){click(_,0);}
function pick1(_){click(_,1);}
function roll0(_){cover(_,0);}
function roll1(_){cover(_,1);}
function last(call,file){this.set=call;}
function repair(call,file){this.repair();}
_.setStyle=function(call,file){var q=[];var i,j,k,l,e="getAttribute",f="setAttribute",u="color",v="opacity";if(typeof(call)!="object")call=[call];if(typeof(file)!="object")file={};for(i=0;l=call[i];i++)q[l]=l;for(l in call)q[l]=l;if(l=this._.W){l=l.getElementsByTagName("path");for(i=0;k=l[i];i++)if(q[k.file]){if(file[_4])if(k[e](_0))k[f](_0,file[_4]);if(file[_5])if(k[e](_1))k[f](_1,file[_5]);if(file[_6])if(k[e](_2))k[f](_2,file[_6]);if(file[_7])if(k[e](_3))k[f](_3,file[_7]);}}if(l=this._.W){l=l.getElementsByTagName("v:shape");for(i=0;k=l[i];i++)if(q[k.file])for(j=0;k=l[i].childNodes[j];j++){if(file[_4])if(k.tagName=="v:fill")if(k[u])k[u]=file[_4];if(file[_5])if(k.tagName=="v:stroke")if(k[u])k[u]=file[_5];if(file[_6])if(k.tagName=="v:fill")if(k[v])k[v]=file[_6];if(file[_7])if(k.tagName=="v:stroke")if(k[v])k[v]=file[_7];}}}
_.setAlpha=function(call,file){var q=[];var i,j,k,l;if(typeof(call)!="object")call=[call];if(typeof(file)!="object")file={};for(l in file)q[l]=file[l];for(i=0;l=call[i];i++)this._.A[l]=q;for(l in call)this._.A[l]=q;this.repair(call);}
_.setColor=function(call,file){var q=[];var i,j,k,l;if(typeof(call)!="object")call=[call];if(typeof(file)!="object")file={};for(l in file)q[l]=file[l];for(i=0;l=call[i];i++)this._.C[l]=q;for(l in call)this._.C[l]=q;this.repair(call);}
_.setLayer=function(call,file){this._.L=call;call=this.$.Z;for(file in call){this.$.U[file]={};this.$.V[file]={};}this.repair(0,1);}
_.setPixel=function(call,file){this._.Q=call;call=this.$.Z;for(file in call){this.$.U[file]={};this.$.V[file]={};}this.repair(0,1);}
_.setClick=function(call,file){this._.click=call;this.repair(0,1);}
_.setCover=function(call,file){this._.cover=call;this.repair(0,1);}
_.setProxy=function(call,file){this.$=call.$;this.repair(0,1);}
_.show=function(){this._.W[$4][$7]="";}
_.hide=function(){this._.W[$4][$7]="none";}
_.roster=function(call,file){this._.E=call?{}:call;if(call)for(file in call)this._.E[file]=call[file];this.repair(0,1);}
_.reciprocal=function(call,file){this._.F=call?{}:call;if(call)for(file in call)this._.F[file]=call[file];this.repair(0,1);}
_.load=function(call,file,X,Y){var _=this._,$=this.$;var a,b,c,d,e,f,g,h,i,j,k,l,o,p,q,r,s,t,u,v,w,x,y,z;a=file;X=X?(21-X):0;Y=Y?(21-Y):0;o=offset;this.repair(call);for(file in call){l=call[file];e=[o+o,o+o,0,0,[],[],[],[]];f=[o+o,o+o,0,0,[],[],[],[]];q=[];q[0]=[];q[1]=[];q[2]=[];q[3]=[];if(l)for(i=0;z=l[i];i++){if(c=(w=(z.x!=null)*(z.y!=null))?((typeof(z.x)!="object")*(typeof(z.y)!="object")):0)z=poly(z);u=[o+o,o+o,0,0,[],[],[],[]];v=[o+o,o+o,0,0,[],[],[],[]];q[0][i]=[];q[1][i]=[];q[2][i]=[];q[3][i]=[];k=-1;s=null;t=null;if(l)for(j=0;;j++){if(w){if((z.x[j]==null)+(z.y[j]==null))break;if(c){x=z.x[j]<<X;y=z.y[j]<<Y;}else{x=LToX(z.x[j]);y=LToY(z.y[j]);}}else{if(z[j]==null)break;if(c){x=LToX(z[j].x);y=LToY(z[j].y);}else{x=LToX(z[j].x);y=LToY(z[j].y);}}if((s!=x)+(t!=y))k++;q[0][i][k]=x;q[1][i][k]=y;q[2][i][k]=x+(o+o)*((o-x)>>31);q[3][i][k]=y+(o+o)*((o-y)>>31);s=x;t=y;if(f[0]>x)f[0]=x;if(f[2]<x)f[2]=x;if(f[1]>y)f[1]=y;if(f[3]<y)f[3]=y;if(v[0]>x)v[0]=x;if(v[2]<x)v[2]=x;if(v[1]>y)v[1]=y;if(v[3]<y)v[3]=y;x=(x+o)%(o+o)-o;y=(y+o)%(o+o)-o;if(e[0]>x)e[0]=x;if(e[2]<x)e[2]=x;if(e[1]>y)e[1]=y;if(e[3]<y)e[3]=y;if(u[0]>x)u[0]=x;if(u[2]<x)u[2]=x;if(u[1]>y)u[1]=y;if(u[3]<y)u[3]=y;}s=null;t=null;f[4][i]=v[0];f[5][i]=v[1];f[6][i]=v[2];f[7][i]=v[3];e[4][i]=u[0];e[5][i]=u[1];e[6][i]=u[2];e[7][i]=u[3];}if(s=((e[2]-e[0]-f[2]+f[0])>>31)){f[0]=e[0];f[2]=e[2];f[4]=e[4];f[6]=e[6];}if(t=((e[3]-e[1]-f[3]+f[1])>>31)){f[1]=e[1];f[3]=e[3];f[5]=e[5];f[7]=e[7];}q=[q[0-s-s],q[1-t-t]];w=[];w[0]=[];w[1]=[];for(i=0;((q[0][i]!=null)*(q[1][i]!=null));i++){k=-1;w[0][i]=[];w[1][i]=[];x=q[0][i];y=q[1][i];for(j=0;((q[0][i][j]!=null)*(q[1][i][j]!=null));j++){z=1;if((x[j-1]!=null)*(y[j-1]!=null)*(x[j+1]!=null)*(y[j+1]!=null)){z=(x[j+1]-x[j-1])*(y[j]-y[j+1]+y[j]-y[j-1])-(y[j+1]-y[j-1])*(x[j]-x[j+1]+x[j]-x[j-1]);z=((((x[j]-x[j-1])*(x[j]-x[j+1]))>>31)+1)*((((y[j]-y[j-1])*(y[j]-y[j+1]))>>31)+1)+(((x[j]-x[j-1])*(y[j]-y[j+1]))!=((y[j]-y[j-1])*(x[j]-x[j+1])));}if(z){k++;w[0][i][k]=x[j];w[1][i][k]=y[j];}}}q=[w[0],w[1],f[0],f[1],f[2],f[3],f[4],f[5],f[6],f[7],s,t];_.A[file]={};_.C[file]={};$.U[file]={};$.V[file]={};$.W[file]=a;$.Z[file]=q;}this.repair(call);}
_.repair=function(call,file){var _=this._,$=this.$;var a,b,c,d,e,f,g,h,i,j,k,l,o,p,q,r,s,t,u,v,w,x,y,z;var A,B,C,D,E,F,G,H,I,J,K,L,O,P,Q,R,S,T,U,V,W,X,Y,Z;var X$,Y$,X_,Y_,X0,X1,Y0,Y1;O=0;if(ie)O=6;if(ff)O=5;if(ca)O=4;if(ca*ie)O=(!_.click*!_.cover)?4:6;if(ca*ff)O=(!_.click*!_.cover)?4:5;if(!O)return;l=uv?this.set:this.getMap();u=uv?this.set:this.getPanes();v=uv?this.set:this.getProjection();if(!l+!u+!v)return;q=l.getBounds();c=l.getCenter();z=l.getZoom();L=_.L?_.L:layer;Q=_.Q?_.Q:pixel;w=((((z>>L)+1)<<L)-1);W=21-w;Z=21-z;q={x:LToX(c.lng())>>Z,y:LToY(c.lat())>>Z};c={x:XToL(q.x<<Z),y:YToL(q.y<<Z)};l=uv?l.getContainer():l.getDiv();f=uv?u.getPane(G_MAP_MAP_PANE):u.overlayLayer;c=uv?v.fromLatLngToDivPixel(new GLatLng(c.y,c.x)):v.fromLatLngToDivPixel(new google.maps.LatLng(c.y,c.x));X0=q.x-((l.offsetWidth+1)>>1);X1=q.x+((l.offsetWidth+1)>>1);Y0=q.y-((l.offsetHeight+1)>>1);Y1=q.y+((l.offsetHeight+1)>>1);_.x=q.x;_.y=q.y;_.X=X1-X0;_.Y=Y1-Y0;X$=q.x-c.x;Y$=q.y-c.y;X_=1+((X1-X0)>>Q)+1;Y_=1+((Y1-Y0)>>Q)+1;X0=((X0-0)>>Q)+0;X1=((X1-1)>>Q)+1;Y0=((Y0-0)>>Q)+0;Y1=((Y1-1)>>Q)+1;A=l.id?l.id:"_";C=1;E=1<<Q>>1;F=4<<Q>>1;if((!!file)+(z!=_.Z)+(X$!=_.X$)+(Y$!=_.Y$)+(X_!=_.X_)+(Y_!=_.Y_)){_.Z=z;_.X$=X$;_.Y$=Y$;_.X_=X_;_.Y_=Y_;_.X0=0;_.X1=0;_.Y0=0;_.Y1=0;q="";l=_.W;if(l){for(i=l.childNodes.length-1;i+1;i--){o=l.childNodes[i];l[$6](o);}q=l[$4][$7];f[$6](l);l=null;}l=document.createElement("DIV");if(l){f[$5](l);l[$4][$7]=q;l[$4].position=$0;properties(l,[0+"px",0+"px","100%","100%"]);for(i=0;X_*Y_-i;i++){o=document.createElement("DIV");l[$5](o);o[$4].position=$0;o._=[];o.$="";}}_.W=l;}if((!!call)+(z!=_.Z)+(X0<_.X0)+(X1>_.X1)+(Y0<_.Y0)+(Y1>_.Y1)){_.Z=z;if(X0<=_.X0)g=[X0,X0+X_];if(X1>=_.X1)g=[X1-X_,X1];if(Y0<=_.Y0)h=[Y0,Y0+Y_];if(Y1>=_.Y1)h=[Y1-Y_,Y1];_.X0=X0;_.X1=X1;_.Y0=Y0;_.Y1=Y1;for(X=g[0];g[1]-X;X++)for(Y=h[0];h[1]-Y;Y++){i=(O==4)?_.F:0;c=i?i:{};o=_.W.childNodes[((X+X_)%X_)+((Y+Y_)%Y_)*X_];a=o.childNodes[0];o[$4].position=$0;o[$4].overflow="hidden";properties(o,[((X<<Q)-X$)+"px",((Y<<Q)-Y$)+"px",(1<<Q)+"px",(1<<Q)+"px"]);e=("Cluster"+" x="+X+" y="+Y+" z="+z);if(call)for(l in call)if(o._[l])o.$="";if(call)for(i=0;l=call[i];i++)if(o._[l])o.$="";if(o.$!=e){if(a)o[$6](a);a=0;if(O==4)a=document.createElement("CANVAS");if(O==5)a=document.createElementNS(FF,"svg");if(O==6)a=document.createElement("DIV");if(a)o[$5](a);a[$4].position=$0;properties(a,[(0<<Q)+"px",(0<<Q)+"px",(1<<Q)+"px",(1<<Q)+"px"]);o._=[];o.$=e;o.status=e;a.status="";if(O!=4){for(i=a.childNodes.length-1;i+1;i--){o=a.childNodes[i];a[$6](o);}}else{e=a.getContext("2d");a.width=1<<Q;a.height=1<<Q;if(c[_0]){e.fillStyle=c[_4];e.globalAlpha=c[_6];e.fillRect(-E,-E,+F,+F);}if(c[_1]){e.strokeStyle=c[_5];e.globalAlpha=c[_7];e.strokeRect(-E,-E,+F,+F);}}}else{}}for(file in $.Z){a=_.A[file];c=_.C[file];e=_.E?_.E[file]:{};if(!a+!e)a={};if(!c+!e)c={};l=c.weight;if(typeof(l)=="object")l=l[((l.length-1-z)>>31<<31)?(l.length-1):z];l=l?l:1;C=((C-l)>>31<<31)?l:C;I=[(-1-(C>>Q))<<Q,(+1+(C>>Q))<<Q];}for(file in $.Z){a=_.A[file];c=_.C[file];e=_.E?_.E[file]:{};if(!a+!e)a={};if(!c+!e)c={};o=offset;U=$.U[file];V=$.V[file];a=$.W[file];q=$.Z[file];g=[(((q[2]>>Z)-(C<<L>>1)-0)>>Q)+0,(((q[4]>>Z)+(C<<L>>1)-1)>>Q)+1];h=[(((q[3]>>Z)-(C<<L>>1)-0)>>Q)+0,(((q[5]>>Z)+(C<<L>>1)-1)>>Q)+1];X=q[10]*(((o>>Z)-_.x)>>31)*((o+o)>>Z>>Q);Y=q[11]*(((o>>Z)-_.y)>>31)*((o+o)>>Z>>Q);x=[X0-X,X1-X];y=[Y0-Y,Y1-Y];if(!!c[_0]+!!c[_1]){if(z*(g[0]<=x[1])*(g[1]>=x[0])*(h[0]<=y[1])*(h[1]>=y[0])){if(g[0]<x[0])g[0]=x[0];if(g[1]>x[1])g[1]=x[1];if(h[0]<y[0])h[0]=y[0];if(h[1]>y[1])h[1]=y[1];if(!U[w])U[w]={};if(!V[z])V[z]={};if(U[w].$!=C)U[w]={};if(V[z].$!=C)V[z]={};U[w]._=A;V[z]._=A;U[w].$=C;V[z].$=C;u=U[w]["_"+file+"_"+w+"_"];if(!u){e=0;u=[];for(j=0;((q[0][j]!=null)*(q[1][j]!=null));j++){i=0;f=[];x=q[0][j];y=q[1][j];s=null;t=null;for(k=0;((x[k]!=null)*(y[k]!=null));k++){if(!(((x[k-1]!=null)*(y[k-1]!=null))?(((x[k-1]>>W>>Q)==(x[k]>>W>>Q))*((y[k-1]>>W>>Q)==(y[k]>>W>>Q))):0)+!(((x[k+1]!=null)*(y[k+1]!=null))?(((x[k+1]>>W>>Q)==(x[k]>>W>>Q))*((y[k+1]>>W>>Q)==(y[k]>>W>>Q))):0))f[i++]=k;}if(i>>0<<0)u[e++]=f;}}U[w]["_"+file+"_"+w+"_"]=u;for(X=g[0];g[1]-X;X++)for(Y=h[0];h[1]-Y;Y++){v=V[z]["_"+file+"_"+z+"_"+(X^X>>z<<z)+"_"+(Y^Y>>z<<z)+"_"];if(!v){e=0;v=[];for(j=0;u[j]!=null;j++){i=0;f=[];x=q[0][j];y=q[1][j];s=null;t=null;if(z*(((((q[6][j]>>Z)-(C<<L>>1)-0)>>Q)+0)<=X)*(((((q[8][j]>>Z)+(C<<L>>1)-1)>>Q)+1)>=X)*(((((q[7][j]>>Z)-(C<<L>>1)-0)>>Q)+0)<=Y)*(((((q[9][j]>>Z)+(C<<L>>1)-1)>>Q)+1)>=Y))for(p=0,r=1;(u[j][p]!=null)*(u[j][r]!=null);p++,r++){a=[((X+0)<<Z>>W)-1,((X+1)<<Z>>W)-0,((Y+0)<<Z>>W)-1,((Y+1)<<Z>>W)-0,((X+0)<<Q)-(C>>1),((X+1)<<Q)+(C>>1),((Y+0)<<Q)-(C>>1),((Y+1)<<Q)+(C>>1)];b=[x[u[j][p]]>>W>>Q,y[u[j][p]]>>W>>Q];d=[x[u[j][r]]>>W>>Q,y[u[j][r]]>>W>>Q];if(z*(I[0]==(-1<<Q))*(I[1]==(+1<<Q))*(b[0]==d[0])*(b[1]==d[1])*((b[0]>a[1])+(b[0]<a[0])+(b[1]>a[3])+(b[1]<a[2]))*((d[0]>a[1])+(d[0]<a[0])+(d[1]>a[3])+(d[1]<a[2]))){c=[(b[0]+d[0])>>1,(b[1]+d[1])>>1];c=[((c[0]>a[1])-(c[0]<a[0]))*((1+(C>>Q))<<Q),((c[1]>a[3])-(c[1]<a[2]))*((1+(C>>Q))<<Q)];if((s!=c[0])+(t!=c[1]))f[i++]=[s=c[0],t=c[1]];}else{k=u[j][p];l=u[j][r];for(;l-k+1;k++){c=(!!(((x[k-1]!=null)*(y[k-1]!=null))?((((x[k-1]>>Z)>a[5])-((x[k-1]>>Z)<a[4]))*(((x[k]>>Z)>a[5])-((x[k]>>Z)<a[4]))-1)*((((y[k-1]>>Z)>a[7])-((y[k-1]>>Z)<a[6]))*(((y[k]>>Z)>a[7])-((y[k]>>Z)<a[6]))-1):0)+!!(((x[k+1]!=null)*(y[k+1]!=null))?((((x[k+1]>>Z)>a[5])-((x[k+1]>>Z)<a[4]))*(((x[k]>>Z)>a[5])-((x[k]>>Z)<a[4]))-1)*((((y[k+1]>>Z)>a[7])-((y[k+1]>>Z)<a[6]))*(((y[k]>>Z)>a[7])-((y[k]>>Z)<a[6]))-1):0))?[(x[k]>>Z)-(X<<Q)-E,(y[k]>>Z)-(Y<<Q)-E]:[(((x[k]>>Z)>a[5])-((x[k]>>Z)<a[4]))*((1+(C>>Q))<<Q),(((y[k]>>Z)>a[7])-((y[k]>>Z)<a[6]))*((1+(C>>Q))<<Q)];if((s!=c[0])+(t!=c[1]))f[i++]=[s=c[0],t=c[1]];}}}o=f;i=0;f=[];s=null;t=null;for(k=0;o[k];k++){l=[o[k][0]<I[0],o[k][0]>I[1],o[k][1]<I[0],o[k][1]>I[1]];if(l[0]+l[1]+l[2]+l[3]){l=[l[1]-l[0],l[3]-l[2]];if(o[j=k-1]){c=[o[k][0]-o[j][0],o[k][1]-o[j][1]];b=[c[0]?((o[k][0]-(l[0]<<Q))/c[0]):c[0],c[1]?((o[k][1]-(l[1]<<Q))/c[1]):c[1]];d=[c[0]?(((l[0]<<Q)-o[j][0])/c[0]):c[0],c[1]?(((l[1]<<Q)-o[j][1])/c[1]):c[1]];if(l[a=(b[0]<=b[1])-0]){c=[Math.round(b[a]*o[j][0]+d[a]*o[k][0]),Math.round(b[a]*o[j][1]+d[a]*o[k][1])];adjust(c,I);if((s!=c[0])+(t!=c[1]))f[i++]=[s=c[0],t=c[1]];}if(l[a=(b[0]>=b[1])-0]){c=[Math.round(b[a]*o[j][0]+d[a]*o[k][0]),Math.round(b[a]*o[j][1]+d[a]*o[k][1])];adjust(c,I);if((s!=c[0])+(t!=c[1]))f[i++]=[s=c[0],t=c[1]];}}if(o[j=k+1]){c=[o[k][0]-o[j][0],o[k][1]-o[j][1]];b=[c[0]?((o[k][0]-(l[0]<<Q))/c[0]):c[0],c[1]?((o[k][1]-(l[1]<<Q))/c[1]):c[1]];d=[c[0]?(((l[0]<<Q)-o[j][0])/c[0]):c[0],c[1]?(((l[1]<<Q)-o[j][1])/c[1]):c[1]];if(l[a=(b[0]>=b[1])-0]){c=[Math.round(b[a]*o[j][0]+d[a]*o[k][0]),Math.round(b[a]*o[j][1]+d[a]*o[k][1])];adjust(c,I);if((s!=c[0])+(t!=c[1]))f[i++]=[s=c[0],t=c[1]];}if(l[a=(b[0]<=b[1])-0]){c=[Math.round(b[a]*o[j][0]+d[a]*o[k][0]),Math.round(b[a]*o[j][1]+d[a]*o[k][1])];adjust(c,I);if((s!=c[0])+(t!=c[1]))f[i++]=[s=c[0],t=c[1]];}}}else{c=o[k];if((s!=c[0])+(t!=c[1]))f[i++]=[s=c[0],t=c[1]];}}o=f;i=0;f=[];s=null;t=null;for(k=0;o[k];k++){c=o[k];if((!o[k-1]+!o[k+1])?(!o[k-1]+!o[k+1]):(((((o[k][0]-o[k-1][0])*(o[k][0]-o[k+1][0]))>>31)+1)*((((o[k][1]-o[k-1][1])*(o[k][1]-o[k+1][1]))>>31)+1)+(((o[k][0]-o[k-1][0])*(o[k][1]-o[k+1][1]))!=((o[k][1]-o[k-1][1])*(o[k][0]-o[k+1][0])))))if((s!=c[0])+(t!=c[1]))f[i++]=[s=c[0],t=c[1]];}for(i=0;l=f[i];i++)f[i]=l[0]^l[0]>>16<<16^l[1]<<16;if(i>>1<<1)v[e++]=f;}}V[z]["_"+file+"_"+z+"_"+(X^X>>z<<z)+"_"+(Y^Y>>z<<z)+"_"]=v;a=_.A[file];c=_.C[file];i=(O==4)?_.F:0;c=i?{fill:1,fillColor:"#ffffff",fillAlpha:1/255,stroke:1,strokeColor:"#000000",strokeAlpha:254/255,weight:1}:c;o=_.W.childNodes[((X+X_)%X_)+((Y+Y_)%Y_)*X_];a=o.childNodes[0];o[$4].position=$0;o[$4].overflow="hidden";if(o._[file])continue;o._[file]=file;if(O==4){e=a.getContext("2d");e.beginPath();for(i=0,j=0;(f=v[j])!=null;j++)for(k=0;(l=f[k])!=null;i++,k++)e[k?"lineTo":"moveTo"]((l<<16>>16)+E,(l>>16)+E);if(!i)continue;l=c.weight;if(typeof(l)=="object")l=l[((l.length-1-z)>>31<<31)?(l.length-1):z];l=l?l:1;e.lineCap="round";e.lineJoin="round";e.lineWidth=l;if(c[_0]){if(!window.opera)e.globalCompositeOperation="copy";e.fillStyle=c[_4];e.globalAlpha=c[_6];e.fill();}if(c[_1]){if(!window.opera)e.globalCompositeOperation="copy";e.strokeStyle=c[_5];e.globalAlpha=c[_7];e.stroke();}}else{if(O==5){e=[];for(i=0,j=0;(f=v[j])!=null;j++)for(k=0;(l=f[k])!=null;i++,k++)e[i]=(k?"L":"M")+" "+((l<<16>>16)+E)+" "+((l>>16)+E);if(!i)continue;e=e.join(" ");l=c.weight;if(typeof(l)=="object")l=l[((l.length-1-z)>>31<<31)?(l.length-1):z];l=l?l:1;o=document.createElementNS(FF,"path");f="getAttribute";f="setAttribute";o[f]("d",e);o[f](_0,c[_0]?c[_4]:"none");o[f](_2,c[_0]?c[_6]:0);o[f]("fill-rule","evenodd");o[f](_1,c[_1]?c[_5]:"none");o[f](_3,c[_1]?c[_7]:0);o[f]("stroke-linecap","round");o[f]("stroke-linejoin","round");o[f]("stroke-width",l+"px");}if(O==6){e=[];for(i=0,j=0;(f=v[j])!=null;j++)for(k=0;(l=f[k])!=null;i++,k++)e[i]=(k?"l":"m")+" "+((l<<16>>16)+E)+" "+((l>>16)+E);e[i]="e";if(!i)continue;e=e.join(" ");l=c.weight;if(typeof(l)=="object")l=l[((l.length-1-z)>>31<<31)?(l.length-1):z];l=l?l:1;o=document.createElement('<v:shape style="behavior:url(#default#VML);left:'+E+'px;top:'+E+'px;width:'+1+'px;height:'+1+'px;" coordorigin="'+E+' '+E+'" coordsize="'+1+' '+1+'" filled="'+(c[_0]?'True':'False')+'" stroked="'+(c[_1]?'True':'False')+'" path="'+e+'">');if(c[_0])o[$5](document.createElement('<v:fill   style="behavior:url(#default#VML);" color="'+c[_4]+'" opacity="'+c[_6]+'" weight="'+l+'px">'));if(c[_1])o[$5](document.createElement('<v:stroke style="behavior:url(#default#VML);" color="'+c[_5]+'" opacity="'+c[_7]+'" weight="'+l+'px">'));}if(_.click){o[$4].cursor="pointer";o.onmouseup=pick0;o.onmousedown=pick1;}if(_.cover){o[$4].cursor="pointer";o.onmouseout=roll0;o.onmouseover=roll1;}o.call=this;o.file=file;o.status="";o.status+=" "+file+"("+i+")";a[$5](o);o[$4].position=$0;}a.status+=" "+file+"("+i+")";}}else{$.U[file]=u={};$.V[file]=v={};for(i=0;24-i;i++)if(U[i])if((U[i]._!=e)-((i-w)>>31))u[i]=U[i];for(i=0;24-i;i++)if(V[i])if((V[i]._!=e)-((i-z)>>31))v[i]=V[i];}}else{$.U[file]=u={};$.V[file]=v={};for(i=0;24-i;i++)if(U[i])if((U[i]._!=e)-((i-0)>>31))u[i]=U[i];for(i=0;24-i;i++)if(V[i])if((V[i]._!=e)-((i-0)>>31))v[i]=V[i];}}}}
}
)
(PolyCluster);